% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/clean_extremes_2var.R
\name{clean_extremes_2var}
\alias{clean_extremes_2var}
\title{Clean extreme values from the start and end of a time series with two variables}
\usage{
clean_extremes_2var(data, columns = c("oxy", "tem"), n_check = 48, factor = 3)
}
\arguments{
\item{data}{A data frame or a character string with the path to a CSV file.}

\item{columns}{Names or indices of the columns to check for extremes (default: c("oxy", "tem")).}

\item{n_check}{Integer. Number of records to check at both the start and end (default: 48).}

\item{factor}{Numeric. Number of standard deviations from the mean to define extremes (default: 3).}
}
\value{
A cleaned data frame with standardized column names (\code{dateutc}, \code{oxy}, \code{tem}).
}
\description{
Removes unrealistic extreme values from the first and last \code{n_check} records of
a time series for both oxygen (\code{oxy}) and temperature (\code{tem}), based on a mean ±
(\code{factor} × standard deviation) threshold computed separately for each segment.
Removes entire rows if either variable is out of bounds. Useful for eliminating
spurious measurements when a sensor is out of the water at the start or end of a deployment.
}
\details{
Data can be a CSV file or data frame. Standardizes column names to \code{dateutc}
(date-time in "yyyy/mm/dd hh:mm:ss" format), \code{oxy} (oxygen), and \code{tem} (temperature).

The algorithm:
\enumerate{
\item Reads the file (if a path is given) and renames the first column to \code{dateutc},
the second to \code{oxy}, and the third to \code{tem}.
\item Removes rows with NA in either \code{oxy} or \code{tem}.
\item Calculates mean and standard deviation for the first \code{n_check} values of each variable
and removes rows where either \code{oxy} or \code{tem} is outside mean ± (\code{factor} × sd).
\item Repeats the process independently for the last \code{n_check} values.
\item Only data in the first and last \code{n_check} records can be removed.
}
}
\examples{
\dontrun{
# Clean a CSV file
cleaned <- clean_extremes("mzt.1.1m.ot.20200101.20200202.csv")

# Clean a data frame
df <- read.csv("mzt.1.1m.ot.20200101.20200202.csv")
cleaned <- clean_extremes(df, columns = c("oxy", "tem"), n_check = 48, factor = 3)
}

}
